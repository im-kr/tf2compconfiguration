// -----------------------------------------------------------------------------
//
// The Competitive TF2 Script
//     by Daniel Harvey
//
// =============================================================================


// --------------
// CONFIGURATION
//   -- edit these to change defaults or preferences
//   -- another major thing you might want to configure is the weapon calls inside the class.cfgs
//   -- weapon_hide_on to weapon_hide_off, for instance, would turn that weapon model off
// ==============

//Netcode Settings (change to your preference)
cl_interp "0.02" 											// default cl_interp, minimal loss on good servers without srctv enabled
rate "30000" 												// Must be set to 25000+
cl_updaterate "66" 											// Must be set to 66+
cl_cmdrate "66" 											// Must be set to 66+, set to 1 below your fps_max for optimal registry
fps_max "0"													// Set this to something maintainable for your system. 0 If you consistently keep 70+ fps
                                                            //  If your system cannot maintain 70+fps, set to cmdrate + 1.

con_enable "1"												// defaults the console to on
fov_desired "90" 											// Changeable, but why would you want to?
cl_hud_minmode "1" 											// minimal hud

// Possible values: autoreload_activator_on / autoreload_activator_off
alias autoreload_activator autoreload_activator_on			                                // set to off if you don't want autoreload by default
alias autoreload_toggle autoreload_toggle_off				                                // initial state the toggle key will set autoreload to, set to inverse of above

// Possible Values: toggle_netg_on / toggle_netg_off
net_graph "1" 												// default state of net_graph
alias toggle_netg "toggle_netg_off"							                // will set your net_graph to this @first click

// -----------
// No touchy!
//   -- This is shit the script needs to function properly or you just really shouldn't change.
// ===========
hud_classautokill "0"
cl_interp_ratio "1"
hud_fastswitch "1" 											// Enable/Disable fast switch
cl_smooth "1" 												// Smoothing for interpolation
cl_smoothtime "0.1"											// time frame interpolation smoothing occurs in
exec servers.cfg

// -------------
// State Hotkey
//   -- Key for combining the high ping and join class modifier key
// =============
alias "+statekey" "+joinclass; +serverstuff"
alias "-statekey" "-joinclass; -serverstuff"

// -------------
// Server aliases
//   -- Keys for server commands
// =============
alias push_hotkey
alias stopwatch_hotkey
alias ctf_hotkey
alias alternate_push_hotkey
alias alternate_stopwatch_hotkey
alias rcon_key
alias timelimit_reset_key
alias timelimit_reset "rcon mp_timelimit 0"
alias tournament_reset_key
alias tournament_reset "rcon mp_tournament_restart 1"

alias +serverstuff "alias push_hotkey primary_push; alias stopwatch_hotkey primary_stopwatch; alias ctf_hotkey primary_ctf; alias alternate_push_hotkey alternate_push; alias alternate_stopwatch_hotkey alternate_stopwatch; alias alternate_ctf_hotkey alternate_ctf; alias rcon_key current_rcon; alias timelimit_reset_key timelimit_reset; alias tournament_reset_key tournament_reset"
alias -serverstuff "alias push_hotkey ; alias stopwatch_hotkey ; alias ctf_hotkey; alias alternate_push_hotkey; alias alternate_stopwatch_hotkey; alias alternate_ctf_hotkey; alias rcon_key; alias timelimit_reset_key; alias tournament_reset_key"

alias current_rcon server_rcon1
alias server1_hotkey "server1; alias current_rcon server_rcon1"
alias server2_hotkey "server2; alias current_rcon server_rcon2"
alias server3_hotkey "server3; alias current_rcon server_rcon3"
alias server4_hotkey "server4; alias current_rcon server_rcon4"

// -------------------------
// Alternate Weapon Toggles
//   -- switch between alternate weapons with (default) f1-f3
// =========================
alias equip_weapon_1 "" //set in the necessary class files
alias equip_weapon_2 ""
alias equip_weapon_3 ""
alias equip_weapon_4 ""
alias equip_weapon_5 ""
alias equip_weapon_6 ""

alias toggle_weapon1 "toggle_weapon1_2"
alias toggle_weapon1_1 "developer 1; equip_weapon_1; wait 15; weapon1; alias toggle_weapon1 toggle_weapon1_2; wait 350; developer 0"
alias toggle_weapon1_2 "developer 1; equip_weapon_2; wait 15; weapon1; alias toggle_weapon1 toggle_weapon1_1; wait 350; developer 0"

alias toggle_weapon2 "toggle_weapon2_2"
alias toggle_weapon2_1 "developer 1; equip_weapon_3; wait 15; weapon2; alias toggle_weapon2 toggle_weapon2_2; wait 350; developer 0"
alias toggle_weapon2_2 "developer 1; equip_weapon_4; wait 15; weapon2; alias toggle_weapon2 toggle_weapon2_1; wait 350; developer 0"

alias toggle_weapon3 "toggle_weapon3_2"
alias toggle_weapon3_1 "developer 1; equip_weapon_5; wait 15; weapon3; alias toggle_weapon3 toggle_weapon3_2; wait 350; developer 0"
alias toggle_weapon3_2 "developer 1; equip_weapon_6; wait 15; weapon3; alias toggle_weapon3 toggle_weapon3_1; wait 350; developer 0"

alias toggle_weapon4 "toggle_weapon4_2" // for future use
alias toggle_weapon4_1 "developer 1; equip_weapon_7; wait 15; weapon4; alias toggle_weapon4 toggle_weapon4_2; wait 350; developer 0"
alias toggle_weapon4_2 "developer 1; equip_weapon_8; wait 15; weapon4; alias toggle_weapon4 toggle_weapon4_1; wait 350; developer 0"

alias toggle_weapon5 "toggle_weapon5_2" // for future use
alias toggle_weapon5_1 "developer 1; equip_weapon_9; wait 15; weapon5; alias toggle_weapon5 toggle_weapon5_2; wait 350; developer 0"
alias toggle_weapon5_2 "developer 1; equip_weapon_10; wait 15; weapon5; alias toggle_weapon5 toggle_weapon5_1; wait 350; developer 0"

// ---------------------
// Quick Class Switcher
//   -- press shift and a key from 1-9 to change class.
// =====================
alias +joinclass "bind 1 scout; bind 2 soldier; bind 3 pyro; bind 4 demoman; bind 5 heavy; bind 6 engineer; bind 7 medic; bind 8 sniper; bind 9 spy"
alias -joinclass "bind 1 weapon1; bind 2 weapon2; bind 3 weapon3; bind 4 weapon4; bind 5 weapon5; bind 6 slot6; bind 7 slot7; bind 8 slot8; bind 9 slot9"

alias scout "join_class scout"
alias soldier "join_class soldier"
alias pyro "join_class pyro"
alias demoman "join_class demoman"
alias heavy "join_class heavyweapons"
alias engineer "join_class engineer"
alias medic "join_class medic"
alias sniper "join_class sniper"
alias spy "join_class spy"

// -----------------
// Toggle Net Graph
// =================
alias toggle_netg_on "net_graph 1; alias toggle_netg toggle_netg_off; echo Net Graph Off"
alias toggle_netg_off "net_graph 0; alias toggle_netg toggle_netg_on; echo Net Graph On"

// ---------------------------
// Scroll Wheel Functionality
//   -- allows scrolling through weapons with the scroll wheel
// ===========================
alias weapon_prev "weapon2"
alias weapon_next "weapon3"

// -----------------------
// Unified weapon scripts
//   -- all calls for weapons come through weapon 1-5
//	 -- these are repeated in default_class.cfg. They do nothing here except provide reference
// =======================

alias weapon1 "before_swap; class_primary; slot1; autoreload_activator; alias weapon_next weapon2; alias weapon_prev weapon3; alias before_swap save_current_weapon_1; alias swap weapon2"
alias weapon2 "before_swap; class_secondary; slot2; autoreload_activator; alias weapon_next weapon3; alias weapon_prev weapon1; alias before_swap save_current_weapon_2; alias swap weapon1"
alias weapon3 "before_swap; class_melee; alias autoreload autoreload_off; slot3; autoreload_activator; alias weapon_next weapon1; alias weapon_prev weapon2; alias before_swap save_current_weapon_3"
alias weapon4 "before_swap; alias autoreload autoreload_off; slot4; autoreload_activator; alias weapon_next weapon5; alias weapon_prev weapon3; alias before_swap save_current_weapon_4"
alias weapon5 "before_swap; alias autoreload autoreload_off; slot5; autoreload_activator; alias weapon_next weapon1; alias weapon_prev weapon4; alias before_swap save_current_weapon_5"

//class_x are for storage of the individual classes' weapon-specific calls
alias swap weapon2          //swaps between primary and secondary
alias class_primary "" 		//set in class files
alias class_secondary ""	//set in class files
alias default_next1 "alias weapon_next weapon2; alias weapon_prev weapon3"
alias default_next2 "alias weapon_next weapon3; alias weapon_prev weapon1"

// -----------------
// GoTo Last weapon
// =================
alias current_weapon ""
alias before_swap "save_current_weapon_2"
alias previous_weapon current_weapon

alias save_current_weapon_1 "alias current_weapon weapon1"
alias save_current_weapon_2 "alias current_weapon weapon2"
alias save_current_weapon_3 "alias current_weapon weapon3"
alias save_current_weapon_4 "alias current_weapon weapon4"
alias save_current_weapon_5 "alias current_weapon weapon5"

// ---------------
// Interp settings
//   -- by default bound 1 2 and 3 on your number pad.
// ===============
alias lower_interp "cl_interp 0.0152"
alias default_interp "cl_interp 0.02"
alias higher_interp "cl_interp 0.033"

// -----------
// AutoReload
//   -- Key for toggling autoreload on and off and demo autoreload
// ===========
alias autoreload_toggle_on "autoreload_on; alias autoreload_activator autoreload_activator_on; alias autoreload_toggle autoreload_toggle_off; echo Autoreload ON"
alias autoreload_toggle_off "autoreload_off; demo_reload_off; alias autoreload_activator autoreload_activator_off;  alias autoreload_toggle autoreload_toggle_on; echo Autoreload OFF"

alias autoreload_activator_on autoreload
alias autoreload_activator_off autoreload_off

alias autoreload ""
alias autoreload_on "+reload"
alias autoreload_off "-reload"

// ---------------
// Attack aliases
//   -- so I don't have to rebind mouse1 and 2 everywhere
// ===============
alias +class_attack "+attack"
alias -class_attack "-attack"
alias +class_attack2 "+attack2"
alias -class_attack2 "-attack2"

// ------------
// ForwardSpawn
//   -- hold down a button to respawn in a forward spawn
// ============
alias class_demoman "join_class demoman"
alias class_engineer "join_class engineer"
alias class_heavyweapons "join_class heavyweapons"
alias class_medic "join_class medic"
alias class_pyro "join_class pyro"
alias class_scout "join_class scout"
alias class_sniper "join_class sniper"
alias class_soldier "join_class soldier"
alias class_spy "join_class spy"
 
// this is the class we want to end up as after we cycle spawns
// its the class we are when we execute the cycle_spawn command
alias current_class ""

// when a class config is executed this is called
// we use this to ensure that we execute 2 class configs
// (the intermediate class and the final class)
alias cycle_on_class_changed ""

// begin repeated attempts to change class
// terminate when class changes successfully
alias cycle_final_class "alias cycle_on_class_changed cycle_terminate; alias cycle_do_loop cycle_loop; cycle_do_loop"

// the command which will repeat until we sucessfully change class
alias cycle_loop "current_class; wait 25; cycle_do_loop"

// stop repeating cycle_loop
// do nothing on_class_changed
alias cycle_terminate "alias cycle_do_loop; alias cycle_on_class_changed"

// change to a random class, loop until cycle_on_class_changed is executed
alias cycle_random_class "alias cycle_on_class_changed cycle_random_terminate; alias cycle_do_loop cycle_random_loop; cycle_do_loop"

// the command which will repeat until we sucessfully change class
alias cycle_random_loop "join_class random; wait 25; cycle_do_loop"

// stop repeating cycle_random_loop
alias cycle_random_terminate "alias cycle_do_loop; cycle_final_class"

// the command we execute to cycle spawns
alias cycle_spawn "update_current_class; cycle_random_class"


// ------------
// Crosshairs
//   -- edit each weapon to your liking
// ============
// crosshair models
alias "default_xhair" cl_crosshair_file ""
alias "plus_dot" "cl_crosshair_file crosshair1"
alias "tee_dot" "cl_crosshair_file crosshair2"
alias "circle" "cl_crosshair_file crosshair3"
alias "ex" "cl_crosshair_file crosshair4"
alias "dot" "cl_crosshair_file crosshair5"
alias "plus_no_dot" "cl_crosshair_file crosshair6"
alias "solid_plus" "cl_crosshair_file crosshair7"

// crosshair colors
alias "white" "cl_crosshair_red 255;  cl_crosshair_blue 255; cl_crosshair_green 255"
alias "grey" "cl_crosshair_red 170;  cl_crosshair_blue 170; cl_crosshair_green 170"
alias "black" "cl_crosshair_red 0;  cl_crosshair_blue 0; cl_crosshair_green 0"
alias "red" "cl_crosshair_red 255;  cl_crosshair_blue 0; cl_crosshair_green 0"
alias "blue" "cl_crosshair_red 0;  cl_crosshair_blue 255; cl_crosshair_green 0"
alias "green" "cl_crosshair_red 0;  cl_crosshair_blue 0; cl_crosshair_green 255"
alias "yellow" "cl_crosshair_red 255;  cl_crosshair_blue 0; cl_crosshair_green 255"
alias "purple" "cl_crosshair_red 255;  cl_crosshair_blue 255; cl_crosshair_green 0"
alias "teal" "cl_crosshair_red 0;  cl_crosshair_blue 255; cl_crosshair_green 255"
alias "orange" "cl_crosshair_red 255;  cl_crosshair_blue 85; cl_crosshair_green 170"

// crosshair size
alias "biggest" "cl_crosshair_scale 48"
alias "big" "cl_crosshair_scale 40"
alias "medium" "cl_crosshair_scale 32"
alias "small" "cl_crosshair_scale 24"
alias "smallest" "cl_crosshair_scale 16"
alias "no_xhair" "cl_crosshair_scale 0"

// primary weapons
alias scout_primary_xhair "dot; green; smallest"
alias soldier_primary_xhair "solid_plus; green; medium"
alias pyro_primary_xhair "solid_plus; green; medium"
alias demoman_primary_xhair "solid_plus; green; medium"
alias heavy_primary_xhair "circle; green; big"
alias engineer_primary_xhair "dot; green; smallest"
alias medic_primary_xhair "dot; green; smallest"
alias sniper_primary_xhair "plus_dot; green; smallest"
alias spy_primary_xhair "dot; green; smallest"

// secondary weapons
alias scout_secondary_xhair "dot; red; smallest"
alias soldier_secondary_xhair "dot; red; smallest"
alias pyro_secondary_xhair "dot; red; smallest"
alias demoman_secondary_xhair "solid_plus; red; medium"
alias heavy_secondary_xhair "dot; red; smallest"
alias engineer_secondary_xhair "dot; red; smallest"
alias medic_secondary_xhair "circle; red; big"
alias sniper_secondary_xhair "dot; red; smallest"
alias spy_secondary_xhair "plus_dot; red; smallest"

// melee weapons
alias scout_melee_xhair "circle; white; big"
alias soldier_melee_xhair "circle; white; big"
alias pyro_melee_xhair "circle; white; big"
alias demoman_melee_xhair "circle; white; big"
alias heavy_melee_xhair "circle; white; big"
alias engineer_melee_xhair "circle; white; big"
alias medic_melee_xhair "circle; white; big"
alias sniper_melee_xhair "circle; white; big"
alias spy_melee_xhair "circle; white; big"




clear

echo "The Competitive TF2 Configuration Successfully Loaded!"