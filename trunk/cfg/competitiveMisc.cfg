// ----------------------------------------------------------------------
//
// Miscelaneous
//
//      Contains:
//       -- +score - calls the scoreboard, enables net_graph, calls timeleft
//       -- developer_on - echos go to top left of the screen for limited time
//       -- ForwardSpawn - press a button to respawn in a forward spawn
//       -- toggle_voicechat and toggle_textchat
//       -- +statekey - Key for combining the high ping and join class modifier key
//       -- +serverstuff - enables server hotkeys when statekey is pressed
//       -- +joinclass - press statekey and a key from 1-9 to change class.
//       -- Server hotkey assignment - +serverstuff - changes the keys assigned to other stuff to server stuff when statekey is pressed
//
// ======================================================================

// ----------------
// Scoreboard call
//  -- calls the scoreboard, enables net_graph, calls timeleft
// ================
alias "+score" "+showscores; timeleft; net_graph_3"
alias "-score" "-showscores; net_graph_selection"

// ---------------
// Developer call
//  -- echos go to top left of the screen for limited time
// ===============
alias developer_on "developer 1; wait 500; developer 0"

// ------------
// ForwardSpawn
//   -- press a button to respawn in a forward spawn
// ============
alias class_demoman "join_class demoman"
alias class_engineer "join_class engineer"
alias class_heavyweapons "join_class heavyweapons"
alias class_medic "join_class medic"
alias class_pyro "join_class pyro"
alias class_scout "join_class scout"
alias class_sniper "join_class sniper"
alias class_soldier "join_class soldier"
alias class_spy "join_class spy"
 
// this is the class we want to end up as after we cycle spawns
// its the class we are when we execute the cycle_spawn command
alias current_class ""

// when a class config is executed this is called
// we use this to ensure that we execute 2 class configs
// (the intermediate class and the final class)
alias cycle_on_class_changed ""

// begin repeated attempts to change class
// terminate when class changes successfully
alias cycle_final_class "alias cycle_on_class_changed cycle_terminate; alias cycle_do_loop cycle_loop; cycle_do_loop"

// the command which will repeat until we sucessfully change class
alias cycle_loop "current_class; wait 25; cycle_do_loop"

// stop repeating cycle_loop
// do nothing on_class_changed
alias cycle_terminate "alias cycle_do_loop; alias cycle_on_class_changed"

// change to a random class, loop until cycle_on_class_changed is executed
alias cycle_random_class "alias cycle_on_class_changed cycle_random_terminate; alias cycle_do_loop cycle_random_loop; cycle_do_loop"

// the command which will repeat until we sucessfully change class
alias cycle_random_loop "join_class random; wait 25; cycle_do_loop"

// stop repeating cycle_random_loop
alias cycle_random_terminate "alias cycle_do_loop; cycle_final_class"

// the command we execute to cycle spawns
alias cycle_spawn "update_current_class; cycle_random_class"

// -----------------------------
// Toggle In-Game Voice and Chat
//   -- enables and disables voice and chat
// =============================
// voicechat
alias toggle_voicechat
alias toggle_voicechat_on "alias voicechat_selection voicechat_on; voicechat_on; alias toggle_voicechat toggle_voicechat_off"
alias toggle_voicechat_off "alias voicechat_selection voicechat_off; voicechat_off; alias toggle_voicechat toggle_voicechat_on"
alias voicechat_selection
alias voicechat_on "voice_modenable 1; voice_scale 0.85; developer_on; echo Voice Chat ON"
alias voicechat_off "voice_modenable 0; voice_scale 0; developer_on; echo Voice Chat OFF"
toggle_voicechat_on              //default state of voicechat

// textchat
alias toggle_textchat ""
alias toggle_textchat_on "alias textchat_selection textchat_on; textchat_on; alias toggle_textchat toggle_textchat_off"
alias toggle_textchat_off "alias textchat_selection textchat_off; textchat_off; alias toggle_textchat toggle_textchat_on"
alias textchat_selection
alias textchat_on "hud_saytext_time 7; developer_on; echo Text Chat ON"
alias textchat_off "hud_saytext_time 0; developer_on; echo Text Chat OFF"
toggle_textchat_on              //default state of textchat

// -------------
// State Hotkey
//   -- Key for combining the high ping and join class modifier key
// =============
alias "+statekey" "+joinclass; +serverstuff; +interpstuff"
alias "-statekey" "-joinclass; -serverstuff; +interpstuff"

// ------------------------
// Server Statekey Swapper
//   -- enables server hotkeys when statekey is pressed
// ========================
alias +serverstuff "alias push_hotkey primary_push; alias stopwatch_hotkey primary_stopwatch; alias ctf_hotkey primary_ctf; alias rcon_key current_rcon; alias timelimit_reset_key timelimit_reset; alias tournament_reset_key tournament_reset"
alias -serverstuff "alias push_hotkey toggle_textchat; alias stopwatch_hotkey toggle_voicechat; alias ctf_hotkey; alias alternate_push_hotkey; alias rcon_key toggle_autoreload; alias timelimit_reset_key toggle_weapon_hide; alias tournament_reset_key"

// ---------------------
// Quick Class Switcher
//   -- press statekey and a key from 1-9 to change class.
// =====================
alias +joinclass "bind 1 scout; bind 2 soldier; bind 3 pyro; bind 4 demoman; bind 5 heavy; bind 6 engineer; bind 7 medic; bind 8 sniper; bind 9 spy"
alias -joinclass "bind 1 weapon1; bind 2 weapon2; bind 3 weapon3; bind 4 weapon4; bind 5 weapon5; bind 6 slot6; bind 7 slot7; bind 8 slot8; bind 9 slot9"

alias scout "join_class scout"
alias soldier "join_class soldier"
alias pyro "join_class pyro"
alias demoman "join_class demoman"
alias heavy "join_class heavyweapons"
alias engineer "join_class engineer"
alias medic "join_class medic"
alias sniper "join_class sniper"
alias spy "join_class spy"

// --------------------------
// Server hotkey assignment
//    -- +serverstuff - changes the keys assigned to other stuff to server stuff when statekey is pressed
// ==========================
alias +serverstuff "alias toggle_textchat_hotkey primary_push; alias toggle_voicechat_hotkey primary_stopwatch; alias toggle_sound_hotkey primary_ctf; alias toggle_autoreload_key current_rcon; alias toggle_weapon_hide_key timelimit_reset; alias toggle_autoheal_key tournament_reset"
alias -serverstuff "alias toggle_textchat_hotkey toggle_textchat; alias toggle_voicechat_hotkey toggle_voicechat; alias toggle_sound_hotkey toggle_sound; alias toggle_autoreload_key toggle_autoreload; alias toggle_weapon_hide_key toggle_weapon_hide; alias toggle_autoheal_key toggle_autoheal"

alias toggle_textchat_hotkey toggle_textchat
alias toggle_voicechat_hotkey toggle_voicechat
alias toggle_sound_hotkey toggle_sound
alias toggle_autoreload_key toggle_autoreload
alias toggle_weapon_hide_key toggle_weapon_hide
alias toggle_autoheal_key toggle_autoheal